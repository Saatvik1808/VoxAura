{"ast":null,"code":"import{createSlice}from\"@reduxjs/toolkit\";import appApi from\"../services/appApi\";export var userSlice=createSlice({name:\"user\",initialState:null,reducers:{addNotifications:function addNotifications(state,_ref){var payload=_ref.payload;if(state.newMessages[payload]){state.newMessages[payload]=state.newMessages[payload]+1;}else{state.newMessages[payload]=1;}},resetNotifications:function resetNotifications(state,_ref2){var payload=_ref2.payload;delete state.newMessages[payload];}},extraReducers:function extraReducers(builder){// save user after signup\nbuilder.addMatcher(appApi.endpoints.signupUser.matchFulfilled,function(state,_ref3){var payload=_ref3.payload;return payload;});// save user after login\nbuilder.addMatcher(appApi.endpoints.loginUser.matchFulfilled,function(state,_ref4){var payload=_ref4.payload;return payload;});// logout: destroy user session\nbuilder.addMatcher(appApi.endpoints.logoutUser.matchFulfilled,function(){return null;});}});var _userSlice$actions=userSlice.actions,addNotifications=_userSlice$actions.addNotifications,resetNotifications=_userSlice$actions.resetNotifications;export{addNotifications,resetNotifications};export default userSlice.reducer;","map":{"version":3,"sources":["/Users/saatvikshrivastava/Downloads/chat/client/src/features/userSlice.js"],"names":["createSlice","appApi","userSlice","name","initialState","reducers","addNotifications","state","payload","newMessages","resetNotifications","extraReducers","builder","addMatcher","endpoints","signupUser","matchFulfilled","loginUser","logoutUser","actions","reducer"],"mappings":"AAAA,OAASA,WAAT,KAA4B,kBAA5B,CACA,MAAOC,CAAAA,MAAP,KAAmB,oBAAnB,CAEA,MAAO,IAAMC,CAAAA,SAAS,CAAGF,WAAW,CAAC,CACjCG,IAAI,CAAE,MAD2B,CAEjCC,YAAY,CAAE,IAFmB,CAGjCC,QAAQ,CAAE,CACNC,gBAAgB,CAAE,0BAACC,KAAD,MAAwB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,CACtC,GAAID,KAAK,CAACE,WAAN,CAAkBD,OAAlB,CAAJ,CAAgC,CAC5BD,KAAK,CAACE,WAAN,CAAkBD,OAAlB,EAA6BD,KAAK,CAACE,WAAN,CAAkBD,OAAlB,EAA6B,CAA1D,CACH,CAFD,IAEO,CACHD,KAAK,CAACE,WAAN,CAAkBD,OAAlB,EAA6B,CAA7B,CACH,CACJ,CAPK,CAQNE,kBAAkB,CAAE,4BAACH,KAAD,OAAwB,IAAdC,CAAAA,OAAc,OAAdA,OAAc,CACxC,MAAOD,CAAAA,KAAK,CAACE,WAAN,CAAkBD,OAAlB,CAAP,CACH,CAVK,CAHuB,CAgBjCG,aAAa,CAAE,uBAACC,OAAD,CAAa,CACxB;AACAA,OAAO,CAACC,UAAR,CAAmBZ,MAAM,CAACa,SAAP,CAAiBC,UAAjB,CAA4BC,cAA/C,CAA+D,SAACT,KAAD,WAAUC,CAAAA,OAAV,OAAUA,OAAV,OAAwBA,CAAAA,OAAxB,EAA/D,EACA;AACAI,OAAO,CAACC,UAAR,CAAmBZ,MAAM,CAACa,SAAP,CAAiBG,SAAjB,CAA2BD,cAA9C,CAA8D,SAACT,KAAD,WAAUC,CAAAA,OAAV,OAAUA,OAAV,OAAwBA,CAAAA,OAAxB,EAA9D,EACA;AACAI,OAAO,CAACC,UAAR,CAAmBZ,MAAM,CAACa,SAAP,CAAiBI,UAAjB,CAA4BF,cAA/C,CAA+D,iBAAM,KAAN,EAA/D,EACH,CAvBgC,CAAD,CAA7B,CA0BA,uBAAiDd,SAAS,CAACiB,OAA3D,CAAQb,gBAAR,oBAAQA,gBAAR,CAA0BI,kBAA1B,oBAA0BA,kBAA1B,C,4CACP,cAAeR,CAAAA,SAAS,CAACkB,OAAzB","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport appApi from \"../services/appApi\";\n\nexport const userSlice = createSlice({\n    name: \"user\",\n    initialState: null,\n    reducers: {\n        addNotifications: (state, { payload }) => {\n            if (state.newMessages[payload]) {\n                state.newMessages[payload] = state.newMessages[payload] + 1;\n            } else {\n                state.newMessages[payload] = 1;\n            }\n        },\n        resetNotifications: (state, { payload }) => {\n            delete state.newMessages[payload];\n        },\n    },\n\n    extraReducers: (builder) => {\n        // save user after signup\n        builder.addMatcher(appApi.endpoints.signupUser.matchFulfilled, (state, { payload }) => payload);\n        // save user after login\n        builder.addMatcher(appApi.endpoints.loginUser.matchFulfilled, (state, { payload }) => payload);\n        // logout: destroy user session\n        builder.addMatcher(appApi.endpoints.logoutUser.matchFulfilled, () => null);\n    },\n});\n\nexport const { addNotifications, resetNotifications } = userSlice.actions;\nexport default userSlice.reducer;\n"]},"metadata":{},"sourceType":"module"}