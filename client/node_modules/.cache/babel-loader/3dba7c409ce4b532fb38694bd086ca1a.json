{"ast":null,"code":"import _asyncToGenerator from\"/Users/saatvikshrivastava/Downloads/chat/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/saatvikshrivastava/Downloads/chat/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/saatvikshrivastava/Downloads/chat/client/node_modules/@babel/runtime/regenerator/index.js\";import React from\"react\";import{Nav,Navbar,Container,Button,NavDropdown}from\"react-bootstrap\";import{useLogoutUserMutation}from\"../services/appApi\";import{useSelector}from\"react-redux\";import{LinkContainer}from\"react-router-bootstrap\";import logo from\"../assets/logo.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Navigation(){var user=useSelector(function(state){return state.user;});var _useLogoutUserMutatio=useLogoutUserMutation(),_useLogoutUserMutatio2=_slicedToArray(_useLogoutUserMutatio,1),logoutUser=_useLogoutUserMutatio2[0];function handleLogout(_x){return _handleLogout.apply(this,arguments);}function _handleLogout(){_handleLogout=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return logoutUser(user);case 3:// redirect to home page\nwindow.location.replace(\"/\");case 4:case\"end\":return _context.stop();}}},_callee);}));return _handleLogout.apply(this,arguments);}return/*#__PURE__*/_jsx(Navbar,{bg:\"light\",expand:\"lg\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/\",children:/*#__PURE__*/_jsx(Navbar.Brand,{children:/*#__PURE__*/_jsx(\"img\",{src:logo,style:{width:50,height:50}})})}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"basic-navbar-nav\"}),/*#__PURE__*/_jsx(Navbar.Collapse,{id:\"basic-navbar-nav\",children:/*#__PURE__*/_jsxs(Nav,{className:\"ms-auto\",children:[!user&&/*#__PURE__*/_jsx(LinkContainer,{to:\"/login\",children:/*#__PURE__*/_jsx(Nav.Link,{children:\"Login\"})}),/*#__PURE__*/_jsx(LinkContainer,{to:\"/chat\",children:/*#__PURE__*/_jsx(Nav.Link,{children:\"Chat\"})}),user&&/*#__PURE__*/_jsxs(NavDropdown,{title:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:user.picture,style:{width:30,height:30,marginRight:10,objectFit:\"cover\",borderRadius:\"50%\"}}),user.name]}),id:\"basic-nav-dropdown\",children:[/*#__PURE__*/_jsx(NavDropdown.Item,{href:\"#action/3.1\",children:\"Action\"}),/*#__PURE__*/_jsx(NavDropdown.Item,{href:\"#action/3.2\",children:\"Another action\"}),/*#__PURE__*/_jsx(NavDropdown.Item,{href:\"#action/3.3\",children:\"Something\"}),/*#__PURE__*/_jsx(NavDropdown.Item,{children:/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:handleLogout,children:\"Logout\"})})]})]})})]})});}export default Navigation;","map":{"version":3,"sources":["/Users/saatvikshrivastava/Downloads/chat/client/src/components/Navigation.js"],"names":["React","Nav","Navbar","Container","Button","NavDropdown","useLogoutUserMutation","useSelector","LinkContainer","logo","Navigation","user","state","logoutUser","handleLogout","e","preventDefault","window","location","replace","width","height","picture","marginRight","objectFit","borderRadius","name"],"mappings":"kZAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,GAAT,CAAcC,MAAd,CAAsBC,SAAtB,CAAiCC,MAAjC,CAAyCC,WAAzC,KAA4D,iBAA5D,CACA,OAASC,qBAAT,KAAsC,oBAAtC,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,aAAT,KAA8B,wBAA9B,CACA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,C,6IACA,QAASC,CAAAA,UAAT,EAAsB,CAClB,GAAMC,CAAAA,IAAI,CAAGJ,WAAW,CAAC,SAACK,KAAD,QAAWA,CAAAA,KAAK,CAACD,IAAjB,EAAD,CAAxB,CACA,0BAAqBL,qBAAqB,EAA1C,gEAAOO,UAAP,2BAFkB,QAGHC,CAAAA,YAHG,gJAGlB,iBAA4BC,CAA5B,kHACIA,CAAC,CAACC,cAAF,GADJ,sBAEUH,CAAAA,UAAU,CAACF,IAAD,CAFpB,QAGI;AACAM,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,GAAxB,EAJJ,sDAHkB,+CASlB,mBACI,KAAC,MAAD,EAAQ,EAAE,CAAC,OAAX,CAAmB,MAAM,CAAC,IAA1B,uBACI,MAAC,SAAD,yBACI,KAAC,aAAD,EAAe,EAAE,CAAC,GAAlB,uBACI,KAAC,MAAD,CAAQ,KAAR,wBACI,YAAK,GAAG,CAAEV,IAAV,CAAgB,KAAK,CAAE,CAAEW,KAAK,CAAE,EAAT,CAAaC,MAAM,CAAE,EAArB,CAAvB,EADJ,EADJ,EADJ,cAMI,KAAC,MAAD,CAAQ,MAAR,EAAe,gBAAc,kBAA7B,EANJ,cAOI,KAAC,MAAD,CAAQ,QAAR,EAAiB,EAAE,CAAC,kBAApB,uBACI,MAAC,GAAD,EAAK,SAAS,CAAC,SAAf,WACK,CAACV,IAAD,eACG,KAAC,aAAD,EAAe,EAAE,CAAC,QAAlB,uBACI,KAAC,GAAD,CAAK,IAAL,oBADJ,EAFR,cAMI,KAAC,aAAD,EAAe,EAAE,CAAC,OAAlB,uBACI,KAAC,GAAD,CAAK,IAAL,mBADJ,EANJ,CASKA,IAAI,eACD,MAAC,WAAD,EACI,KAAK,cACD,wCACI,YAAK,GAAG,CAAEA,IAAI,CAACW,OAAf,CAAwB,KAAK,CAAE,CAAEF,KAAK,CAAE,EAAT,CAAaC,MAAM,CAAE,EAArB,CAAyBE,WAAW,CAAE,EAAtC,CAA0CC,SAAS,CAAE,OAArD,CAA8DC,YAAY,CAAE,KAA5E,CAA/B,EADJ,CAEKd,IAAI,CAACe,IAFV,GAFR,CAOI,EAAE,CAAC,oBAPP,wBASI,KAAC,WAAD,CAAa,IAAb,EAAkB,IAAI,CAAC,aAAvB,oBATJ,cAUI,KAAC,WAAD,CAAa,IAAb,EAAkB,IAAI,CAAC,aAAvB,4BAVJ,cAWI,KAAC,WAAD,CAAa,IAAb,EAAkB,IAAI,CAAC,aAAvB,uBAXJ,cAaI,KAAC,WAAD,CAAa,IAAb,wBACI,KAAC,MAAD,EAAQ,OAAO,CAAC,QAAhB,CAAyB,OAAO,CAAEZ,YAAlC,oBADJ,EAbJ,GAVR,GADJ,EAPJ,GADJ,EADJ,CA6CH,CAED,cAAeJ,CAAAA,UAAf","sourcesContent":["import React from \"react\";\nimport { Nav, Navbar, Container, Button, NavDropdown } from \"react-bootstrap\";\nimport { useLogoutUserMutation } from \"../services/appApi\";\nimport { useSelector } from \"react-redux\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport logo from \"../assets/logo.png\";\nfunction Navigation() {\n    const user = useSelector((state) => state.user);\n    const [logoutUser] = useLogoutUserMutation();\n    async function handleLogout(e) {\n        e.preventDefault();\n        await logoutUser(user);\n        // redirect to home page\n        window.location.replace(\"/\");\n    }\n    return (\n        <Navbar bg=\"light\" expand=\"lg\">\n            <Container>\n                <LinkContainer to=\"/\">\n                    <Navbar.Brand>\n                        <img src={logo} style={{ width: 50, height: 50 }} />\n                    </Navbar.Brand>\n                </LinkContainer>\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n                <Navbar.Collapse id=\"basic-navbar-nav\">\n                    <Nav className=\"ms-auto\">\n                        {!user && (\n                            <LinkContainer to=\"/login\">\n                                <Nav.Link>Login</Nav.Link>\n                            </LinkContainer>\n                        )}\n                        <LinkContainer to=\"/chat\">\n                            <Nav.Link>Chat</Nav.Link>\n                        </LinkContainer>\n                        {user && (\n                            <NavDropdown\n                                title={\n                                    <>\n                                        <img src={user.picture} style={{ width: 30, height: 30, marginRight: 10, objectFit: \"cover\", borderRadius: \"50%\" }} />\n                                        {user.name}\n                                    </>\n                                }\n                                id=\"basic-nav-dropdown\"\n                            >\n                                <NavDropdown.Item href=\"#action/3.1\">Action</NavDropdown.Item>\n                                <NavDropdown.Item href=\"#action/3.2\">Another action</NavDropdown.Item>\n                                <NavDropdown.Item href=\"#action/3.3\">Something</NavDropdown.Item>\n\n                                <NavDropdown.Item>\n                                    <Button variant=\"danger\" onClick={handleLogout}>\n                                        Logout\n                                    </Button>\n                                </NavDropdown.Item>\n                            </NavDropdown>\n                        )}\n                    </Nav>\n                </Navbar.Collapse>\n            </Container>\n        </Navbar>\n    );\n}\n\nexport default Navigation;\n"]},"metadata":{},"sourceType":"module"}